---
title: ROS 2
description: Foxglove can load local and remote MCAP files containing ROS 2 data, or connect directly to a live ROS 2 stack.
---

import CorsDirections from "../../../src/components/docs/CorsDirections";
import FoxgloveWebSocketResetDirections from "../../../src/components/docs/FoxgloveWebSocketResetDirections";

Foxglove can load local and remote [MCAP](https://mcap.dev) files containing [ROS 2](/blog/installing-ros2-humble-on-ubuntu) data, or connect directly to a live ROS 2 stack.

## Live data

For live connections, you must be on the same network as the robot.

### Foxglove WebSocket

We recommend [Foxglove WebSocket](#foxglove-websocket) as the easiest way to get connected – especially if you have a network firewall between ROS and Foxglove, as it requires your ROS host to have only one port open.

This option requires running an extra ROS node ([`foxglove_bridge`](https://index.ros.org/p/foxglove_bridge/)) – follow the [installation directions here](/docs/connecting-to-data/foxglove-bridge).

#### Connect

[Install ROS 2](/tutorials/installing-ros2-on-ubuntu) and follow the instructions for [setting up the Foxglove bridge](/docs/studio/connection/using-foxglove-bridge).

_Open connection_ in the _Data source_ dialog, select _Foxglove WebSocket_, then enter the URL to your Rosbridge server:

![Foxglove WebSocket dialog](/img/docs/connecting-to-data/foxglove-websocket.png)

<FoxgloveWebSocketResetDirections />

#### Limitations

Foxglove WebSocket connections support publishing back to your ROS stack, but not reading or setting ROS parameters.

### Rosbridge

_NOTE: For performance reasons, we recommend using the [Foxglove WebSocket](#foxglove-websocket) connection instead._

Connect directly to your running ROS stack via WebSockets using a Rosbridge connection.

A [`rosbridge`](https://wiki.ros.org/rosbridge_suite) connection uses a standard protocol to connect Foxglove to your ROS master over WebSockets. While it does require running an extra ROS node ([`rosbridge_server`](https://wiki.ros.org/rosbridge_server)), we recommend this option if you have a network firewall between ROS and Foxglove, as it requires your ROS host to have only one port open.

To open a Rosbridge connection, make sure you’ve [installed ROS 2](/tutorials/installing-ros2-on-ubuntu), as well as [`rosbridge-suite`](https://github.com/RobotWebTools/rosbridge_suite):

```shell
# For Galactic (ROS 2)
$ sudo apt install ros-galactic-rosbridge-suite
```

Next, start the WebSocket server, and review the command printout to determine the port it is listening on (e.g. `ws://0.0.0.0:9090`):

```shell
$ ros2 launch rosbridge_server rosbridge_websocket_launch.xml
```

Click _Open connection_ in the _Data source_ dialog, select "Rosbridge (ROS 1 & 2)", then enter the URL to your Rosbridge server:

![Rosbridge dialog](/img/docs/connecting-to-data/rosbridge.png)

You are now connected to ROS!

To test your connection, add a [Raw Messages panel](/docs/studio/panels/raw-messages) to your layout, and see a list of available topics populate the dropdown. Check out the `/connected_clients` topic to see information `rosbridge` is publishing about your connection.

#### Limitations

Rosbridge connections support publishing back to your ROS stack, but not reading or setting [ROS parameters](https://github.com/foxglove/studio/issues/1662).

### Remote file

Remote ROS 2 `.db3` files are not supported, but you can convert them into MCAP files for remote file support.

To load a remote MCAP (`.mcap`) file, select _Open file from URL_ in the _Data source_ dialog, and enter the URL to your remote file.

![Remote file dialog](/img/docs/connecting-to-data/remote-file.png)

<CorsDirections />

## Local data

You must first convert ROS 2 (`.db3`) files into the supported MCAP file format before loading in Foxglove.

Use the [`mcap` CLI tool](https://github.com/foxglove/mcap/tree/main/go/cli/mcap) to help with this conversion:

```bash
$ mcap convert ros2_input.db3 ros2_output.mcap
```

`mcap` will search the path stored in your `$AMENT_PREFIX_PATH` environment variable to locate the ROS message definitions on your hard drive. You can also specify a colon-separated list of directories for the CLI tool to search using the `ament-prefix-path` flag:

```bash
$ mcap convert ros2_input.db3 ros2_output.mcap --ament-prefix-path=/your/first/directory;/your/second/directory
```

Once you have your MCAP (`.mcap`) file, double-click it from your file manager, drag-and-drop it directly into the app, or _Open local file_ via the _Data source_ dialog:

![Local file dialog](/img/docs/connecting-to-data/local-file.png)

## Imported data

Once you [convert your ROS 2 `.db3` files to MCAP (`.mcap`) files](/docs/studio/connection/ros2#files), you can upload them to Foxglove's [web console](https://console.foxglove.dev) and stream them directly for visualization.

[IMPORTED DATA PAGE SNIPPET]

## Links and resources

- [Open a Foxglove bridge connection](/blog/announcing-the-new-foxglove-bridge-for-live-ros-data)
